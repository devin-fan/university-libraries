  [1m[36m (139.3ms)[0m  [1mDROP DATABASE IF EXISTS "video_db_test"[0m
  [1m[35m (380.5ms)[0m  CREATE DATABASE "video_db_test" ENCODING = 'unicode'
  [1m[36mSQL (1.4ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (5.7ms)[0m  CREATE TABLE "film_tags" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "film_id" integer, "tag_id" integer) 
  [1m[36m (4.6ms)[0m  [1mCREATE TABLE "films" ("id" serial primary key, "title" character varying, "film_type" integer, "director" character varying, "film_path" character varying, "essay_path" character varying, "permission" integer, "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "base_film_path" character varying, "image_path" character varying, "user_id" integer) [0m
  [1m[35m (2.9ms)[0m  CREATE TABLE "tags" ("id" serial primary key, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (2.8ms)[0m  [1mCREATE TABLE "trigrams" ("id" serial primary key, "trigram" character varying(3), "score" smallint, "owner_id" integer, "owner_type" character varying, "fuzzy_field" character varying) [0m
  [1m[35m (1.2ms)[0m  CREATE  INDEX  "index_for_match" ON "trigrams" USING btree ("owner_id", "owner_type", "fuzzy_field", "trigram", "score")
  [1m[36m (0.9ms)[0m  [1mCREATE  INDEX  "index_by_owner" ON "trigrams" USING btree ("owner_id", "owner_type")[0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "role" integer, "first_name" character varying, "last_name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "andrewid" character varying, "password_digest" character varying) 
  [1m[36m (2.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20180430182306')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20180413000414')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20180318183121')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20180402050925')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20180416014542')
  [1m[36m (0.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20180403161925')[0m
  [1m[35m (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20180320203150')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20180426033142')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20180419043330')
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20180320203320')[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20180327040507')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (6.1ms)
  Rendered home/home.html.erb within layouts/landing (16.3ms)
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.2ms)
  Rendered home/home.html.erb within layouts/landing (9.5ms)
Completed 200 OK in 27ms (Views: 26.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (1.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:22:55.920725"], ["updated_at", "2018-05-02 05:22:55.920725"]]
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:22:56.165752"], ["updated_at", "2018-05-02 05:22:56.165752"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:22:56.306175"], ["updated_at", "2018-05-02 05:22:56.306175"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 1], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 2], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 3], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
FilmTagTest: test_: FilmTag should belong to films. 
----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tags. 
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:29:36.426183"], ["updated_at", "2018-05-02 05:29:36.426183"]]
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:29:36.665050"], ["updated_at", "2018-05-02 05:29:36.665050"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:29:36.795143"], ["updated_at", "2018-05-02 05:29:36.795143"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 4], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 5], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 6], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:29:36.917502"], ["updated_at", "2018-05-02 05:29:36.917502"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (1.2ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:29:37.029416"], ["updated_at", "2018-05-02 05:29:37.029416"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:29:37.156593"], ["updated_at", "2018-05-02 05:29:37.156593"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 7], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 8], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 9], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:29:37.297499"], ["updated_at", "2018-05-02 05:29:37.297499"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:29:37.410742"], ["updated_at", "2018-05-02 05:29:37.410742"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:29:37.556661"], ["updated_at", "2018-05-02 05:29:37.556661"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.7ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 10], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 11], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 12], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.9ms)
  Rendered home/home.html.erb within layouts/landing (11.0ms)
Completed 200 OK in 33ms (Views: 33.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:30:14.602686"], ["updated_at", "2018-05-02 05:30:14.602686"]]
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:30:14.835682"], ["updated_at", "2018-05-02 05:30:14.835682"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:30:14.962616"], ["updated_at", "2018-05-02 05:30:14.962616"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 13], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 14], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 14]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 15], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 15]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:30:15.087800"], ["updated_at", "2018-05-02 05:30:15.087800"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.4ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:30:15.196153"], ["updated_at", "2018-05-02 05:30:15.196153"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:30:15.324515"], ["updated_at", "2018-05-02 05:30:15.324515"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 16], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 16]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 17], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 17]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 18], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:30:15.462607"], ["updated_at", "2018-05-02 05:30:15.462607"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 19]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 19]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 19 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:30:15.572632"], ["updated_at", "2018-05-02 05:30:15.572632"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 20 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:30:15.702714"], ["updated_at", "2018-05-02 05:30:15.702714"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 21 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (11.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 19], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 19]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 20], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 20]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 21], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 21]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (7.5ms)
  Rendered home/home.html.erb within layouts/landing (14.4ms)
Completed 200 OK in 33ms (Views: 32.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.6ms)
  Rendered partials/_nav.html.erb (5.6ms)
  Rendered home/home.html.erb within layouts/landing (11.0ms)
Completed 200 OK in 28ms (Views: 27.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:16.587927"], ["updated_at", "2018-05-02 05:31:16.587927"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 22]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 22]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 22 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:16.816059"], ["updated_at", "2018-05-02 05:31:16.816059"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 23 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:31:16.946496"], ["updated_at", "2018-05-02 05:31:16.946496"]]
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 24]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 24]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 24 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 22], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 22]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 23], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 23]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 24], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 24]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:17.067740"], ["updated_at", "2018-05-02 05:31:17.067740"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 25]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 25]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 25 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:17.181781"], ["updated_at", "2018-05-02 05:31:17.181781"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 26]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 26]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 26 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:31:17.307296"], ["updated_at", "2018-05-02 05:31:17.307296"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 27]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 27]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 27 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 25], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 25]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 26], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 26]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 27], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 27]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:17.441189"], ["updated_at", "2018-05-02 05:31:17.441189"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 28]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 28]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 28 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:17.550709"], ["updated_at", "2018-05-02 05:31:17.550709"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 29]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 29]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 29 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:31:17.676573"], ["updated_at", "2018-05-02 05:31:17.676573"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 30]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 30]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 30 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 28], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 28]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 29], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 29]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 30], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 30]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.1ms)
  Rendered home/home.html.erb within layouts/landing (9.3ms)
Completed 200 OK in 30ms (Views: 29.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:53.294575"], ["updated_at", "2018-05-02 05:31:53.294575"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 31]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 31]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 31 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:53.520584"], ["updated_at", "2018-05-02 05:31:53.520584"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 32]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 32]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 32 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:31:53.649419"], ["updated_at", "2018-05-02 05:31:53.649419"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 33]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 33]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 33 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 31], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 32], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 32]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 33], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 33]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:53.771671"], ["updated_at", "2018-05-02 05:31:53.771671"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.8ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 34]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 34]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 34 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:53.879212"], ["updated_at", "2018-05-02 05:31:53.879212"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 35]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 35]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 35 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:31:54.006811"], ["updated_at", "2018-05-02 05:31:54.006811"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 36]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 36]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 36 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 34], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 34]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 35], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 35]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 36], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 36]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:54.129165"], ["updated_at", "2018-05-02 05:31:54.129165"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.6ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 37]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 37]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 37 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:31:54.237345"], ["updated_at", "2018-05-02 05:31:54.237345"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 38]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 38]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 38 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:31:54.364598"], ["updated_at", "2018-05-02 05:31:54.364598"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 39]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 39]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 39 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 37], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 37]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 38], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 38]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 39], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 39]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.5ms)
  Rendered partials/_nav.html.erb (4.9ms)
  Rendered home/home.html.erb within layouts/landing (10.8ms)
Completed 200 OK in 29ms (Views: 28.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:32:32.268487"], ["updated_at", "2018-05-02 05:32:32.268487"]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 40]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 40]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 40 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:32:32.496274"], ["updated_at", "2018-05-02 05:32:32.496274"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 41]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 41]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 41 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:32:32.621338"], ["updated_at", "2018-05-02 05:32:32.621338"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 42]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 42]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 42 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 40], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 40]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 41], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 41]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 42], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 42]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:32:32.740498"], ["updated_at", "2018-05-02 05:32:32.740498"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (1.0ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 43]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 43]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 43 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:32:32.848783"], ["updated_at", "2018-05-02 05:32:32.848783"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 44]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 44]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 44 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:32:32.972506"], ["updated_at", "2018-05-02 05:32:32.972506"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 45]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 45]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 45 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 43], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 43]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 44], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 44]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 45], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 45]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:32:33.090128"], ["updated_at", "2018-05-02 05:32:33.090128"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (1.8ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 46]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 46]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 46 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:32:33.197508"], ["updated_at", "2018-05-02 05:32:33.197508"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 47]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 47]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 47 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:32:33.323036"], ["updated_at", "2018-05-02 05:32:33.323036"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 48]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 48]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 48 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 46], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 46]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 47], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 47]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 48], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 48]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (3.9ms)
  Rendered home/about.html.erb within layouts/about_page (9.4ms)
Completed 200 OK in 25ms (Views: 24.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (0.8ms)
  Rendered home/home.html.erb within layouts/landing (1.5ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:33:13.096186"], ["updated_at", "2018-05-02 05:33:13.096186"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 49]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 49]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 49 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:33:13.316143"], ["updated_at", "2018-05-02 05:33:13.316143"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 50]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 50]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 50 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:33:13.442877"], ["updated_at", "2018-05-02 05:33:13.442877"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 51]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 51]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 51 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 49], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 49]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 50], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 50]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 51], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 51]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:33:13.559462"], ["updated_at", "2018-05-02 05:33:13.559462"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 52]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 52]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 52 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:33:13.665786"], ["updated_at", "2018-05-02 05:33:13.665786"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 53]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 53]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 53 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:33:13.788943"], ["updated_at", "2018-05-02 05:33:13.788943"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 54]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 54]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 54 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 52], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 52]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 53], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 53]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 54], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 54]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:33:13.904186"], ["updated_at", "2018-05-02 05:33:13.904186"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 55]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 55]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 55 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:33:14.011504"], ["updated_at", "2018-05-02 05:33:14.011504"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 56]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 56]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 56 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:33:14.134183"], ["updated_at", "2018-05-02 05:33:14.134183"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 57]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 57]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 57 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 55], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 55]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 56], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 56]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 57], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 57]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (3.9ms)
  Rendered home/about.html.erb within layouts/about_page (12.4ms)
Completed 200 OK in 29ms (Views: 28.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (1.3ms)
  Rendered home/home.html.erb within layouts/landing (2.0ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:34:08.268424"], ["updated_at", "2018-05-02 05:34:08.268424"]]
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 58]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 58]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 58 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:34:08.501105"], ["updated_at", "2018-05-02 05:34:08.501105"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 59]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 59]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 59 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:34:08.624664"], ["updated_at", "2018-05-02 05:34:08.624664"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 60]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 60]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 60 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 58], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 58]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 59], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 59]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 60], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 60]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:34:08.740981"], ["updated_at", "2018-05-02 05:34:08.740981"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 61]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 61]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 61 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:34:08.847843"], ["updated_at", "2018-05-02 05:34:08.847843"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 62]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 62]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 62 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:34:08.971781"], ["updated_at", "2018-05-02 05:34:08.971781"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 63]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 63]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 63 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 61], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 61]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 62], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 62]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 63], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 63]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:34:09.087281"], ["updated_at", "2018-05-02 05:34:09.087281"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 64]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 64]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 64 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:34:09.192332"], ["updated_at", "2018-05-02 05:34:09.192332"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 65]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 65]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 65 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:34:09.313712"], ["updated_at", "2018-05-02 05:34:09.313712"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 66]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 66]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 66 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 64], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 64]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 65], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 65]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 66], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 66]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.1ms)
  Rendered home/about.html.erb within layouts/about_page (10.0ms)
Completed 200 OK in 27ms (Views: 26.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.0ms)
  Rendered partials/_nav.html.erb (0.8ms)
  Rendered home/home.html.erb within layouts/landing (1.3ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:37:20.652002"], ["updated_at", "2018-05-02 05:37:20.652002"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 67]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 67]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 67 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:37:20.877981"], ["updated_at", "2018-05-02 05:37:20.877981"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 68]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 68]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 68 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:37:21.008706"], ["updated_at", "2018-05-02 05:37:21.008706"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 69]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 69]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 69 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 67], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 67]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 68], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 68]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 69], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 69]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope. 
-----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:37:21.128995"], ["updated_at", "2018-05-02 05:37:21.128995"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.8ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 70]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 70]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 70 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:37:21.235746"], ["updated_at", "2018-05-02 05:37:21.235746"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 71]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 71]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 71 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:37:21.356673"], ["updated_at", "2018-05-02 05:37:21.356673"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 72]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 72]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 72 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 70], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 70]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 71], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 71]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 72], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 72]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films. 
--------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:37:21.475718"], ["updated_at", "2018-05-02 05:37:21.475718"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 73]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 73]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 73 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:37:21.582013"], ["updated_at", "2018-05-02 05:37:21.582013"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 74]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 74]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 74 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:37:21.707956"], ["updated_at", "2018-05-02 05:37:21.707956"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 75]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 75]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 75 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 73], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 73]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 74], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 74]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 75], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 75]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.6ms)
  Rendered partials/_nav.html.erb (16.5ms)
  Rendered home/about.html.erb within layouts/about_page (23.9ms)
Completed 200 OK in 36ms (Views: 35.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (0.9ms)
  Rendered home/home.html.erb within layouts/landing (1.5ms)
Completed 200 OK in 11ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:31.637113"], ["updated_at", "2018-05-02 05:46:31.637113"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 76]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 76]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 76 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:31.861731"], ["updated_at", "2018-05-02 05:46:31.861731"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 77]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 77]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 77 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:46:31.984201"], ["updated_at", "2018-05-02 05:46:31.984201"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 78]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 78]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 78 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.8ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 76], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 76]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 77], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 77]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 78], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 78]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:32.105037"], ["updated_at", "2018-05-02 05:46:32.105037"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.5ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 79]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 79]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 79 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:32.216685"], ["updated_at", "2018-05-02 05:46:32.216685"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 80]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 80]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 80 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:46:32.340971"], ["updated_at", "2018-05-02 05:46:32.340971"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 81]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 81]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 81 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 79], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 79]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 80], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 80]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 81], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 81]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:32.461023"], ["updated_at", "2018-05-02 05:46:32.461023"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.8ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 82]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 82]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 82 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:32.570373"], ["updated_at", "2018-05-02 05:46:32.570373"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 83]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 83]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 83 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:46:32.701111"], ["updated_at", "2018-05-02 05:46:32.701111"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 84]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 84]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 84 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 82], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 82]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 83], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 83]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 84], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 84]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:32.832275"], ["updated_at", "2018-05-02 05:46:32.832275"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.9ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 85]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 85]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 85 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:46:32.975660"], ["updated_at", "2018-05-02 05:46:32.975660"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 86]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 86]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 86 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:46:33.099748"], ["updated_at", "2018-05-02 05:46:33.099748"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 87]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 87]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 87 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 85], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 85]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 86], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 86]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 87], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 87]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.9ms)
  Rendered partials/_nav.html.erb (5.8ms)
  Rendered home/about.html.erb within layouts/about_page (12.6ms)
Completed 200 OK in 27ms (Views: 26.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (0.8ms)
  Rendered home/home.html.erb within layouts/landing (1.4ms)
Completed 200 OK in 11ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:41.101826"], ["updated_at", "2018-05-02 05:47:41.101826"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 88]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 88]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 88 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:41.338325"], ["updated_at", "2018-05-02 05:47:41.338325"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 89]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 89]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 89 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:47:41.461472"], ["updated_at", "2018-05-02 05:47:41.461472"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 90]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 90]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 90 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 88], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 88]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 89], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 89]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 90], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 90]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:41.584129"], ["updated_at", "2018-05-02 05:47:41.584129"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 91]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 91]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 91 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:41.696616"], ["updated_at", "2018-05-02 05:47:41.696616"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 92]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 92]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 92 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:47:41.820931"], ["updated_at", "2018-05-02 05:47:41.820931"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 93]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 93]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 93 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 91], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 91]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 92], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 92]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 93], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 93]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:41.939037"], ["updated_at", "2018-05-02 05:47:41.939037"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 94]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 94]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 94 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:42.046823"], ["updated_at", "2018-05-02 05:47:42.046823"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 95]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 95]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 95 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:47:42.172874"], ["updated_at", "2018-05-02 05:47:42.172874"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 96]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 96]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 96 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 94], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 94]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 95], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 95]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 96], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 96]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:42.289855"], ["updated_at", "2018-05-02 05:47:42.289855"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 97]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 97]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 97 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:47:42.400603"], ["updated_at", "2018-05-02 05:47:42.400603"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 98]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 98]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 98 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:47:42.559076"], ["updated_at", "2018-05-02 05:47:42.559076"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 99]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 99]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 99 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 97], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 97]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 98], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 98]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 99], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 99]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.2ms)
  Rendered home/about.html.erb within layouts/about_page (9.7ms)
Completed 200 OK in 22ms (Views: 21.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (0.9ms)
  Rendered home/home.html.erb within layouts/landing (1.3ms)
Completed 200 OK in 15ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:50.364488"], ["updated_at", "2018-05-02 05:48:50.364488"]]
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 100]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 100]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 100 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:50.592966"], ["updated_at", "2018-05-02 05:48:50.592966"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 101]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 101]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 101 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:48:50.716239"], ["updated_at", "2018-05-02 05:48:50.716239"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 102]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 102]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 102 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 100], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 100]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 101], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 101]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 102], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 102]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:50.835613"], ["updated_at", "2018-05-02 05:48:50.835613"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.9ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 103]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 103]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 103 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:50.947128"], ["updated_at", "2018-05-02 05:48:50.947128"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 104]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 104]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 104 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:48:51.071453"], ["updated_at", "2018-05-02 05:48:51.071453"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 105]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 105]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 105 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 103], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 103]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 104], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 104]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 105], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 105]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:51.192283"], ["updated_at", "2018-05-02 05:48:51.192283"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 106]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 106]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 106 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:51.300169"], ["updated_at", "2018-05-02 05:48:51.300169"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 107]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (8.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 107]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 107 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:48:51.432291"], ["updated_at", "2018-05-02 05:48:51.432291"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 108]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 108]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 108 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 106], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 106]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 107], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 107]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 108], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 108]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:51.550031"], ["updated_at", "2018-05-02 05:48:51.550031"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 109]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 109]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 109 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:48:51.692067"], ["updated_at", "2018-05-02 05:48:51.692067"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 110]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 110]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 110 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:48:51.851113"], ["updated_at", "2018-05-02 05:48:51.851113"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 111]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 111]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 111 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 109], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 109]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 110], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 110]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 111], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 111]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.7ms)
  Rendered home/about.html.erb within layouts/about_page (15.6ms)
Completed 200 OK in 27ms (Views: 26.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.0ms)
  Rendered partials/_nav.html.erb (0.7ms)
  Rendered home/home.html.erb within layouts/landing (1.2ms)
Completed 200 OK in 9ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:04.612586"], ["updated_at", "2018-05-02 05:51:04.612586"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 112]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 112]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 112 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:04.841249"], ["updated_at", "2018-05-02 05:51:04.841249"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 113]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 113]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 113 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:04.968410"], ["updated_at", "2018-05-02 05:51:04.968410"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 114]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 114]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 114 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 112], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 112]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 113], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 113]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 114], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 114]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:05.088444"], ["updated_at", "2018-05-02 05:51:05.088444"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.4ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (1.1ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 115]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 115]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 115 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:05.199047"], ["updated_at", "2018-05-02 05:51:05.199047"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 116]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 116]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 116 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:05.322732"], ["updated_at", "2018-05-02 05:51:05.322732"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 117]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 117]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 117 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 115], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 115]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 116], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 116]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 117], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 117]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:05.442136"], ["updated_at", "2018-05-02 05:51:05.442136"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.7ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 118]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 118]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 118 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:05.551508"], ["updated_at", "2018-05-02 05:51:05.551508"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 119]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 119]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 119 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:05.678761"], ["updated_at", "2018-05-02 05:51:05.678761"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 120]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 120]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 120 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 118], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 118]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 119], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 119]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 120], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 120]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:05.803196"], ["updated_at", "2018-05-02 05:51:05.803196"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 121]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 121]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 121 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:05.915684"], ["updated_at", "2018-05-02 05:51:05.915684"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 122]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (12.9ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 122]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 122 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:06.091386"], ["updated_at", "2018-05-02 05:51:06.091386"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 123]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 123]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 123 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 121], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 121]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 122], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 122]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 123], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 123]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:46.643494"], ["updated_at", "2018-05-02 05:51:46.643494"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.4ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 124]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 124]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 124 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:46.899289"], ["updated_at", "2018-05-02 05:51:46.899289"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (1.2ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 125]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 125]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 125 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:47.036336"], ["updated_at", "2018-05-02 05:51:47.036336"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 126]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 126]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 126 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.6ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 124], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 124]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 125], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 125]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 126], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 126]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:47.164470"], ["updated_at", "2018-05-02 05:51:47.164470"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (1.2ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 127]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 127]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 127 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:47.277247"], ["updated_at", "2018-05-02 05:51:47.277247"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 128]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 128]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 128 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:47.408249"], ["updated_at", "2018-05-02 05:51:47.408249"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 129]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 129]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 129 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 127], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 127]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 128], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 128]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 129], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 129]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:47.529072"], ["updated_at", "2018-05-02 05:51:47.529072"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 130]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 130]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 130 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:47.638173"], ["updated_at", "2018-05-02 05:51:47.638173"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 131]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 131]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 131 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:47.764627"], ["updated_at", "2018-05-02 05:51:47.764627"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 132]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 132]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 132 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 130], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 130]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 131], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 131]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 132], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 132]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:47.887464"], ["updated_at", "2018-05-02 05:51:47.887464"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.7ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 133]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 133]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 133 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 05:51:48.007089"], ["updated_at", "2018-05-02 05:51:48.007089"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 134]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 134]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 134 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 05:51:48.167054"], ["updated_at", "2018-05-02 05:51:48.167054"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 135]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 135]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 135 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 133], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 133]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 134], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 134]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 135], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 135]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.8ms)
  Rendered home/about.html.erb within layouts/about_page (10.2ms)
Completed 200 OK in 24ms (Views: 23.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (7.1ms)
  Rendered home/home.html.erb within layouts/landing (7.6ms)
Completed 200 OK in 23ms (Views: 22.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "role", "andrewid", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["role", 1], ["andrewid", "testu"], ["password_digest", "$2a$04$f1caVzMl1ffiKjBgoYeNkeNUypnbKFfBrTw/M8q6.eEthv5mqXqZm"], ["created_at", "2018-05-02 05:51:48.374542"], ["updated_at", "2018-05-02 05:51:48.374542"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."andrewid" = $1 LIMIT 1[0m  [["andrewid", "testu"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("first_name", "last_name", "role", "andrewid", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["first_name", "Test"], ["last_name", "User"], ["role", 1], ["andrewid", "testu"], ["password_digest", "$2a$04$e2DG0c27v8e3qz63cyOP8OUpAXfT0QNdRE.CMe6c2DOMRBcV8SqUG"], ["created_at", "2018-05-02 06:35:30.915135"], ["updated_at", "2018-05-02 06:35:30.915135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."andrewid" = $1 LIMIT 1  [["andrewid", "testu"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
TagTest: test_: Tag should have many film_tags. 
------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
TagTest: test_: Tag should have many films through film_tags. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
TagTest: test_: Tag should require name to be set. 
---------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of alphabetical scope.. 
-------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of has_name scope.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:31.078908"], ["updated_at", "2018-05-02 06:35:31.078908"]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 136]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 136]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 136 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:31.310908"], ["updated_at", "2018-05-02 06:35:31.310908"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 137]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 137]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 137 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:35:31.456198"], ["updated_at", "2018-05-02 06:35:31.456198"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 138]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 138]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 138 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.5ms)[0m  SELECT "films".* FROM "films"  ORDER BY "films"."title" ASC
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 136], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 136]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 137], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 137]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 138], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 138]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:31.585714"], ["updated_at", "2018-05-02 06:35:31.585714"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.8ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 139]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 139]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 139 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:31.699586"], ["updated_at", "2018-05-02 06:35:31.699586"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 140]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 140]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 140 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:35:31.833464"], ["updated_at", "2018-05-02 06:35:31.833464"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 141]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 141]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 141 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  [["film_type", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 139], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 139]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 140], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 140]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 141], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 141]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:31.956510"], ["updated_at", "2018-05-02 06:35:31.956510"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 142]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 142]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 142 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:32.073764"], ["updated_at", "2018-05-02 06:35:32.073764"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 143]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 143]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 143 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:35:32.216647"], ["updated_at", "2018-05-02 06:35:32.216647"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 144]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 144]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 144 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 142], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 142]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 143], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 143]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 144], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 144]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:32.354625"], ["updated_at", "2018-05-02 06:35:32.354625"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.5ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.8ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 145]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 145]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 145 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:35:32.471420"], ["updated_at", "2018-05-02 06:35:32.471420"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 146]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 146]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 146 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:35:32.612246"], ["updated_at", "2018-05-02 06:35:32.612246"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 147]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 147]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 147 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 145], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 145]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 146], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 146]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 147], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 147]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.4ms)
  Rendered partials/_nav.html.erb (13.2ms)
  Rendered home/about.html.erb within layouts/about_page (20.0ms)
Completed 200 OK in 34ms (Views: 33.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (1.2ms)
  Rendered home/home.html.erb within layouts/landing (2.4ms)
Completed 200 OK in 15ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "users" ("first_name", "last_name", "role", "andrewid", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"  [["first_name", "Test"], ["last_name", "User"], ["role", 1], ["andrewid", "testu"], ["password_digest", "$2a$04$eo1smxg38ckEJL4PDuai1e9WxLzkOMhEmLyubZMlgdpiQZHLGxcTO"], ["created_at", "2018-05-02 06:38:50.032728"], ["updated_at", "2018-05-02 06:38:50.032728"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."andrewid" = $1 LIMIT 1  [["andrewid", "testu"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:50.151191"], ["updated_at", "2018-05-02 06:38:50.151191"]]
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 148]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 148]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 148 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:50.373212"], ["updated_at", "2018-05-02 06:38:50.373212"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 149]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 149]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 149 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:38:50.499985"], ["updated_at", "2018-05-02 06:38:50.499985"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 150]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 150]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 150 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.4ms)[0m  SELECT "films".* FROM "films"  ORDER BY "films"."title" ASC
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 148], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 148]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 149], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 149]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 150], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 150]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:50.616161"], ["updated_at", "2018-05-02 06:38:50.616161"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.4ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.7ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 151]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 151]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 151 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:50.722453"], ["updated_at", "2018-05-02 06:38:50.722453"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 152]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 152]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 152 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:38:50.847938"], ["updated_at", "2018-05-02 06:38:50.847938"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 153]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 153]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 153 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  [["film_type", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 151], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 151]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 152], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 152]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 153], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 153]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:50.967070"], ["updated_at", "2018-05-02 06:38:50.967070"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.5ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 154]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 154]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 154 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:51.073313"], ["updated_at", "2018-05-02 06:38:51.073313"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 155]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 155]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 155 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:38:51.218663"], ["updated_at", "2018-05-02 06:38:51.218663"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 156]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 156]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 156 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 154], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 154]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 155], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 155]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 156], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 156]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:51.345257"], ["updated_at", "2018-05-02 06:38:51.345257"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.4ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 157]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 157]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 157 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:38:51.461980"], ["updated_at", "2018-05-02 06:38:51.461980"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 158]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 158]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 158 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:38:51.624109"], ["updated_at", "2018-05-02 06:38:51.624109"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 159]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 159]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 159 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC[0m  [["film_type", 0]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 157], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 157]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 158], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 158]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 159], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 159]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.3ms)
  Rendered partials/_nav.html.erb (4.2ms)
  Rendered home/about.html.erb within layouts/about_page (16.1ms)
Completed 200 OK in 30ms (Views: 29.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.1ms)
  Rendered partials/_nav.html.erb (1.3ms)
  Rendered home/home.html.erb within layouts/landing (2.8ms)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
TagTest: test_: Tag should have many film_tags. 
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
TagTest: test_: Tag should have many films through film_tags. 
--------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TagTest: test_: Tag should require name to be set. 
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of alphabetical scope.. 
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag"], ["created_at", "2018-05-02 06:38:51.803159"], ["updated_at", "2018-05-02 06:38:51.803159"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "**t"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "*te"]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tes"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "est"]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "stt"]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tta"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tag"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 1 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "ag*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag2"], ["created_at", "2018-05-02 06:38:51.857838"], ["updated_at", "2018-05-02 06:38:51.857838"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 2 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag3"], ["created_at", "2018-05-02 06:38:51.898896"], ["updated_at", "2018-05-02 06:38:51.898896"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 3 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags"  ORDER BY "tags"."name" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 1], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 2], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 3], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of has_name scope.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag"], ["created_at", "2018-05-02 06:38:51.939869"], ["updated_at", "2018-05-02 06:38:51.939869"]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "**t"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "*te"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tes"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "est"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tta"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tag"]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mTrigram Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 4 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "ag*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag2"], ["created_at", "2018-05-02 06:38:51.976887"], ["updated_at", "2018-05-02 06:38:51.976887"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 5 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag3"], ["created_at", "2018-05-02 06:38:52.006670"], ["updated_at", "2018-05-02 06:38:52.006670"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 6 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."name" = $1  [["name", "testtag"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 4], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 5], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 6], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:49.979367"], ["updated_at", "2018-05-02 06:39:49.979367"]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 160]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 160]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 160 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:50.236591"], ["updated_at", "2018-05-02 06:39:50.236591"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 161]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 161]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 161 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:39:50.366826"], ["updated_at", "2018-05-02 06:39:50.366826"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 162]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 162]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 162 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.5ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 160], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 160]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 161], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 162], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 162]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:50.499124"], ["updated_at", "2018-05-02 06:39:50.499124"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 163]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 163]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 163 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:50.606597"], ["updated_at", "2018-05-02 06:39:50.606597"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 164]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 164]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 164 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:39:50.735277"], ["updated_at", "2018-05-02 06:39:50.735277"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 165]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 165]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 165 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 163], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 163]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 164], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 164]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 165], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 165]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:50.853644"], ["updated_at", "2018-05-02 06:39:50.853644"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (1.8ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 166]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 166]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 166 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:50.961554"], ["updated_at", "2018-05-02 06:39:50.961554"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 167]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 167]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 167 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:39:51.085494"], ["updated_at", "2018-05-02 06:39:51.085494"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 168]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 168]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 168 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 166], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 166]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 167], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 167]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 168], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 168]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:51.202481"], ["updated_at", "2018-05-02 06:39:51.202481"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 169]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 169]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 169 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 06:39:51.317770"], ["updated_at", "2018-05-02 06:39:51.317770"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 170]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 170]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 170 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 06:39:51.468098"], ["updated_at", "2018-05-02 06:39:51.468098"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 171]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 171]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 171 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 169], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 169]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 170], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 170]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 171], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 171]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "role", "andrewid", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["role", 1], ["andrewid", "testu"], ["password_digest", "$2a$04$.ExIeod0W2ex.N63nEyNCe2xQiUwfVDy1eOlKsn80qQJeXFSwhgCG"], ["created_at", "2018-05-02 06:39:51.605563"], ["updated_at", "2018-05-02 06:39:51.605563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."andrewid" = $1 LIMIT 1[0m  [["andrewid", "testu"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
TagTest: test_: Tag should have many film_tags. 
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
TagTest: test_: Tag should have many films through film_tags. 
--------------------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------------------
TagTest: test_: Tag should require name to be set. 
---------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of alphabetical scope.. 
-------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag"], ["created_at", "2018-05-02 06:39:51.632587"], ["updated_at", "2018-05-02 06:39:51.632587"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "**t"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "*te"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tes"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "est"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "stt"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tta"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 7]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tag"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 7]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 7 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "ag*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag2"], ["created_at", "2018-05-02 06:39:51.670766"], ["updated_at", "2018-05-02 06:39:51.670766"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 8]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 8]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 8 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag3"], ["created_at", "2018-05-02 06:39:51.724633"], ["updated_at", "2018-05-02 06:39:51.724633"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 9]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 9]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 9 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags"  ORDER BY "tags"."name" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 7], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 8], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 9], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of has_name scope.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag"], ["created_at", "2018-05-02 06:39:51.764222"], ["updated_at", "2018-05-02 06:39:51.764222"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "**t"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "*te"]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "est"]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tta"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 10]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tag"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 10]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 10 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "ag*"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag2"], ["created_at", "2018-05-02 06:39:51.809969"], ["updated_at", "2018-05-02 06:39:51.809969"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 11]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 11]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 11 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag3"], ["created_at", "2018-05-02 06:39:51.839557"], ["updated_at", "2018-05-02 06:39:51.839557"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 12]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 12]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 12 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."name" = $1  [["name", "testtag"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 10], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 11], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 12], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.5ms)
  Rendered partials/_nav.html.erb (8.5ms)
  Rendered home/about.html.erb within layouts/about_page (15.1ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.0ms)
  Rendered partials/_nav.html.erb (0.7ms)
  Rendered home/home.html.erb within layouts/landing (1.1ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
TagTest: test_: Tag should have many film_tags. 
------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
TagTest: test_: Tag should have many films through film_tags. 
--------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
TagTest: test_: Tag should require name to be set. 
---------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of alphabetical scope.. 
-------------------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag"], ["created_at", "2018-05-02 07:06:25.737426"], ["updated_at", "2018-05-02 07:06:25.737426"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "**t"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "*te"]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tes"]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "est"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "stt"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tta"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 13]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tag"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 13]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 13 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "ag*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag2"], ["created_at", "2018-05-02 07:06:25.922703"], ["updated_at", "2018-05-02 07:06:25.922703"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 14]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 14]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 14 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag3"], ["created_at", "2018-05-02 07:06:25.953989"], ["updated_at", "2018-05-02 07:06:25.953989"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 15]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 15]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 15 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags"  ORDER BY "tags"."name" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 13], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 13]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 14], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 14]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 15], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = $1  [["id", 15]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
TagTest: test_: Within context should test the functionality of has_name scope.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag"], ["created_at", "2018-05-02 07:06:25.992359"], ["updated_at", "2018-05-02 07:06:25.992359"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "**t"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "*te"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "est"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "stt"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tta"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 16]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "tag"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 16]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 16 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 7], ["trigram", "ag*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "testtag2"], ["created_at", "2018-05-02 07:06:26.026054"], ["updated_at", "2018-05-02 07:06:26.026054"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 17]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 17]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 17 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "tags" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "testtag3"], ["created_at", "2018-05-02 07:06:26.062870"], ["updated_at", "2018-05-02 07:06:26.062870"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "**t"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "*te"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tes"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "est"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stt' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "stt"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tta' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tta"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tag' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "tag"]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1[0m  [["id", 18]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ag*' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "ag*"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = $1 LIMIT 1  [["id", 18]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'g**' AND "trigrams"."owner_type" = 'Tag' AND "trigrams"."owner_id" = 18 AND "trigrams"."fuzzy_field" = 'name') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"], ["score", 8], ["trigram", "g**"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."name" = $1  [["name", "testtag"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 16], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 16]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 17], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 17]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 18], ["owner_type", "Tag"], ["fuzzy_field", "name"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = $1[0m  [["id", 18]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
FilmControllerTest: test_should_get_index
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
FilmControllerTest: test_should_get_new
---------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------------
FilmTest: test_: Film should ensure inclusion of permission in [0, 1, 2]. 
--------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
FilmTest: test_: Film should have many film_tags. 
--------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------
FilmTest: test_: Film should have many tags through film_tags. 
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------
FilmTest: test_: Film should require director to be set. 
---------------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------
FilmTest: test_: Film should require film_type to be set. 
----------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
FilmTest: test_: Film should require title to be set. 
------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of alphabetical scope.. 
--------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:26.206819"], ["updated_at", "2018-05-02 07:06:26.206819"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 172]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 172]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 172 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:26.313401"], ["updated_at", "2018-05-02 07:06:26.313401"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 173]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 173]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 173 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 07:06:26.467823"], ["updated_at", "2018-05-02 07:06:26.467823"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.3ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 174]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 174]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 174 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT "films".* FROM "films"  ORDER BY "films"."title" ASC[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 172], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 172]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 173], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 173]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 174], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 174]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of base_films scope.. 
------------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:26.607169"], ["updated_at", "2018-05-02 07:06:26.607169"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.6ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 175]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 175]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 175 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:26.714518"], ["updated_at", "2018-05-02 07:06:26.714518"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 176]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 176]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 176 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 07:06:26.836853"], ["updated_at", "2018-05-02 07:06:26.836853"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 177]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 177]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 177 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT "films".* FROM "films" WHERE "films"."film_type" = $1[0m  [["film_type", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 175], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 175]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 176], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 176]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 177], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 177]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of is_base?.. 
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:26.963453"], ["updated_at", "2018-05-02 07:06:26.963453"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.5ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 178]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 178]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 178 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:27.070318"], ["updated_at", "2018-05-02 07:06:27.070318"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 179]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 179]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 179 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 07:06:27.202087"], ["updated_at", "2018-05-02 07:06:27.202087"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.4ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.5ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 180]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 180]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 180 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 178], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 178]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 179], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 179]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 180], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 180]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
FilmTest: test_: Within context should test the functionality of student_films.. 
---------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm1"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:27.336540"], ["updated_at", "2018-05-02 07:06:27.336540"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.9ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.3ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 181]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 181]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 181 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "TestFilm2"], ["film_type", 0], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["created_at", "2018-05-02 07:06:27.447164"], ["updated_at", "2018-05-02 07:06:27.447164"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**t"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*te"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tes"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "est"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'stf' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "stf"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tfi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "tfi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 182]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 182]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 182 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "films" ("title", "film_type", "director", "film_path", "essay_path", "permission", "description", "base_film_path", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["title", "BaseFilm1"], ["film_type", 1], ["director", "Tester"], ["film_path", "video-1517174640.mp4"], ["essay_path", "function-extrema.docx"], ["permission", 1], ["description", "A test description"], ["base_film_path", "video-1517172393.mp4"], ["created_at", "2018-05-02 07:06:27.571418"], ["updated_at", "2018-05-02 07:06:27.571418"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**b' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "**b"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*ba' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "*ba"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'bas' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "bas"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ase' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ase"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'sef' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "sef"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'efi' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "efi"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'fil' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "fil"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ilm' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "ilm"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'lm*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "lm*"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'm**' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'title') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"], ["score", 9], ["trigram", "m**"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '**t' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "**t"]]
  [1m[36mFilm Load (0.1ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = '*te' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "*te"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'tes' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "tes"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'est' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "est"]]
  [1m[35mFilm Load (0.2ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ste' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ste"]]
  [1m[36mFilm Load (0.2ms)[0m  [1mSELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1[0m  [["id", 183]]
  [1m[35mTrigram Exists (0.3ms)[0m  SELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'ter' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "ter"]]
  [1m[35mFilm Load (0.1ms)[0m  SELECT  "films".* FROM "films" WHERE "films"."id" = $1 LIMIT 1  [["id", 183]]
  [1m[36mTrigram Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "trigrams" WHERE ("trigrams"."trigram" = 'er*' AND "trigrams"."owner_type" = 'Film' AND "trigrams"."owner_id" = 183 AND "trigrams"."fuzzy_field" = 'director') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "trigrams" ("owner_id", "owner_type", "fuzzy_field", "score", "trigram") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"], ["score", 6], ["trigram", "er*"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mFilm Load (0.2ms)[0m  SELECT "films".* FROM "films" WHERE "films"."film_type" = $1  ORDER BY "films"."title" ASC  [["film_type", 0]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 181], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 181]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 182], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "films" WHERE "films"."id" = $1[0m  [["id", 182]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "title"]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "trigrams" WHERE "trigrams"."owner_id" = $1 AND "trigrams"."owner_type" = $2 AND "trigrams"."fuzzy_field" = $3[0m  [["owner_id", 183], ["owner_type", "Film"], ["fuzzy_field", "director"]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "films" WHERE "films"."id" = $1  [["id", 183]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
FilmTagTest: test_: FilmTag should belong to film. 
---------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
FilmTagTest: test_: FilmTag should belong to tag. 
--------------------------------------------------
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
UserTest: test_: User should have a secure password. 
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
UserTest: test_: User should have many films. 
----------------------------------------------
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserTest: test_: User should require first_name to be set. 
-----------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------
UserTest: test_: User should require last_name to be set. 
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------------
UserTest: test_: Within context should test the functionality of authenticating.. 
----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("first_name", "last_name", "role", "andrewid", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "User"], ["role", 1], ["andrewid", "testu"], ["password_digest", "$2a$04$FKDnasorxdO17eykdd9QM.utoHu.eTTWuCq7G4KuNOjFnHzJi2c7a"], ["created_at", "2018-05-02 07:06:27.705342"], ["updated_at", "2018-05-02 07:06:27.705342"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."andrewid" = $1 LIMIT 1[0m  [["andrewid", "testu"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
HomeControllerTest: test_should_get_about
-----------------------------------------
Processing by HomeController#about as HTML
  Rendered partials/_search_bar.html.erb (0.5ms)
  Rendered partials/_nav.html.erb (4.8ms)
  Rendered home/about.html.erb within layouts/about_page (12.8ms)
Completed 200 OK in 35ms (Views: 34.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
HomeControllerTest: test_should_get_home
----------------------------------------
Processing by HomeController#home as HTML
  Rendered partials/_search_bar.html.erb (0.0ms)
  Rendered partials/_nav.html.erb (0.6ms)
  Rendered home/home.html.erb within layouts/landing (1.1ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
